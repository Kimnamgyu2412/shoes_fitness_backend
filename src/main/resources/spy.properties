#################################################################
# P6Spy Options File                                            #
# See documentation for detailed instructions                   #
# https://p6spy.readthedocs.io/en/latest/configandusage.html   #
#################################################################

#################################################################
# MODULES                                                       #
#                                                               #
# Module list applies to the StandardEngineFactory             #
# Comma separated list of driver wrappers                      #
#################################################################
modulelist=com.p6spy.engine.logging.P6LogFactory,com.p6spy.engine.outage.P6OutageFactory

################################################################
# REALDRIVER(s)                                                #
#                                                              #
# Real driver to use (Don't change this if using Spring Boot) #
################################################################
#driverlist=com.mysql.cj.jdbc.Driver

################################################################
# LOGGING                                                      #
################################################################

# Class to use for logging - Use our custom formatter
logMessageFormat=com.shoes.fitness.config.P6SpyFormatter

# Logging level
# Set to DEBUG to see all SQL queries
# Set to INFO for standard logging
logLevel=info

# Log file location (optional - we'll use console via SLF4J)
# If you want file logging, uncomment and set path:
# logfile=logs/spy.sql

# Use SLF4J for logging (integrates with Logback/Spring Boot logging)
appender=com.p6spy.engine.spy.appender.Slf4JLogger

# Log filter - only log specific statements (optional)
# Leave blank to log all SQL
# filter=

################################################################
# DataSource replacement                                       #
#                                                              #
# Replace the real driver with P6Spy proxy driver             #
################################################################
autoflush=true

# Date format
dateformat=yyyy-MM-dd HH:mm:ss

# Set to true to log batch statements
logBatch=true

# Exclude certain statements (optional)
# Example: exclude=select 1
exclude=

# Include certain statements (optional)
# Example: include=insert,update,delete
# Leave blank to include all
include=

# Exclude categories (optional)
# Possible values: error, info, batch, debug, statement, commit, rollback, result, resultset
excludecategories=info,debug,result,resultset,batch

# SQL Expression to include (regex pattern)
# Leave blank to include all
# Example: sqlexpression=(INSERT|UPDATE|DELETE).*
sqlexpression=

# Stack trace for SQL execution (shows which method called the query)
# We handle this in our custom formatter (P6SpyFormatter)
# So we disable the built-in stack trace
stacktrace=false
stacktraceclass=

################################################################
# OUTAGE DETECTION                                             #
#                                                              #
# Logs queries that exceed a threshold time                   #
################################################################
# Outage detection in milliseconds
# Log queries that take longer than this time
outagedetection=true
outagedetectioninterval=5000
